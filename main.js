(()=>{var t={427:(t,e,r)=>{const o=r(643);t.exports=()=>{let t=[...Array(10)].map((()=>Array(10).fill(0))),e=[],r=new Set,n={};const s=(e,r,o)=>{if(0!==t[e[0]][e[1]])return!1;let n=[e];if("vertical"===o)for(let o=1;o<r;o++){if(e[0]+o>9||0!==t[e[0]+o][e[1]])return!1;n.push([e[0]+o,e[1]])}else{if("horizontal"!==o)return!1;for(let o=1;o<r;o++){if(e[1]+o>9||0!==t[e[0]][e[1]+o])return!1;n.push([e[0],e[1]+o])}}return c(n,r,o),l(n,o),!0},c=(t,e,r)=>{let s="ship"+(Object.keys(n).length+1);n[s]={object:o(e),orientation:r,coords:t,top:t[0],bottom:t[t.length-1]}},i=(t,e)=>{let r=[];return t[0]+(e-1)<10&&r.push("vertical"),t[1]+(e-1)<10&&r.push("horizontal"),0===r.length?"none":r[Math.floor(Math.random()*r.length)]},l=(e,r)=>{e.forEach((e=>{t[e[0]][e[1]]=1,(e=>{const r=[-1,1,-1,1],o=[-1,1,1,-1];for(let n=0;n<4;n++)d(e[0]+r[n],0,10)&&d(e[1]+o[n],0,10)&&(t[e[0]+r[n]][e[1]+o[n]]=2)})(e)})),a(e[0],e[e.length-1],r)},a=(e,r,o)=>{"vertical"===o?(e[0]-1>=0&&(t[e[0]-1][e[1]]=2),r[0]+1<10&&(t[r[0]+1][r[1]]=2)):(e[1]-1>=0&&(t[e[0]][e[1]-1]=2),r[1]+1<10&&(t[r[0]][r[1]+1]=2))},u=e=>{let r;do{r=[Math.floor(10*Math.random()),Math.floor(10*Math.random())]}while(r+(e-1)>9||0!==t[r[0]][r[1]]);return r},d=(t,e,r)=>t<r&&t>=e;return{placeShip:s,receiveAttack:t=>{r.add(t.join(""));for(const e in n){let r=JSON.stringify(t);if(n[e].coords.some((t=>JSON.stringify(t)===r)))return n[e].object.hit(t),!0}return e.push(t.join("")),!1},allShipsSunk:()=>{for(const t in n)if(!n[t].object.isSunk())return!1;return!0},placeShipsRandomly:()=>{[5,4,3,3,2].forEach((t=>{let e,r,o;do{e=u(t),r=i(e,t),o=s(e,t,r)}while(!o)}))},shotCoords:r,ships:n}}},507:(t,e,r)=>{const o=r(427);t.exports=t=>{let e=o();e.placeShipsRandomly();const r=t=>{let e;do{e=[Math.floor(10*Math.random()),Math.floor(10*Math.random())]}while(t.board.shotCoords.has(e.join("")));return e};return{attack:(e,o)=>t?(t=>t.board.receiveAttack(r(t)))(e):((t,e)=>!t.board.shotCoords.has(e.join(""))&&t.board.receiveAttack(e))(e,o),board:e}}},643:t=>{t.exports=t=>{let e=[];return{length:t,isSunk:()=>t===e.length,hit:t=>{e.push(t)}}}}},e={};function r(o){var n=e[o];if(void 0!==n)return n.exports;var s=e[o]={exports:{}};return t[o](s,s.exports,r),s.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var o in e)r.o(e,o)&&!r.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";var t=r(507),e=r.n(t);(()=>{let t=e()(!1),r=e()(!0);const o=()=>{l(),a()},n=t=>{t.removeEventListener("click",i),t.classList.add("disabled")},s=n=>{t=e()(!1),r=e()(!0),document.querySelector(".results").textContent="Your grid",document.querySelector("#comp-container").style.display="block",document.querySelector(".btn-container").style.display="none",document.querySelector(".human-grid").innerHTML="",document.querySelector(".comp-grid").innerHTML="",o(),n.target.removeEventListener("click",s)},c=(t,e)=>{if(e.board.allShipsSunk()){const e=t?"Computer ":"You ";document.querySelector(".results").textContent=e+"win"+(t?"s":"")+"! ðŸŽ‰",document.querySelector("#comp-container").style.display="none",document.querySelector(".btn-container").style.display="flex",document.querySelector(".restart-btn").addEventListener("click",s)}},i=e=>{const o=r.board.shotCoords.size,s=e.target.id.slice(e.target.id.length-2),i=[Number(s[0]),Number(s[1])];t.attack(r,i)?(e.target.classList.add("hit"),(t=>{const e=[Number(t[0]),Number(t[1])],r=[-1,1,-1,1],o=[-1,1,1,-1];for(let t=0;t<4;t++){let s=e[0]+r[t],c=e[1]+o[t];const i=document.querySelector("#comp"+s+c);i&&n(i)}})(s),((t,e)=>{const r=((t,e)=>{const r=t.board.ships;for(const t in r){let o=JSON.stringify(e);if(r[t].coords.some((t=>JSON.stringify(t)===o)))return r[t]}})(t,e);if(r.object.isSunk()){const{elemTop:t,elemBottom:e}=(t=>{const e=t.top.join(""),r=t.bottom.join("");let o,n;if("vertical"===t.orientation){let t=Number(e[0])-1,s=Number(r[0])+1;o=document.querySelector("#comp"+t+e[1]),n=document.querySelector("#comp"+s+r[1])}else{let t=Number(e[1])-1,s=Number(r[1])+1;o=document.querySelector("#comp"+e[0]+t),n=document.querySelector("#comp"+r[0]+s)}return{elemTop:o,elemBottom:n}})(r);t&&n(t),e&&n(e)}})(r,i),c(!1,r)):e.target.classList.add("miss"),r.board.shotCoords.size===o+1&&(()=>{const e=r.attack(t),o=[...t.board.shotCoords].slice(-1),n=document.querySelector("#hum"+o);e?(n.classList.add("hit"),c(!0,t)):n.classList.add("miss")})()},l=()=>{const e=document.querySelector(".human-grid"),r=(t=>{const e=t.board.ships,r=[];for(const t in e)e[t].coords.forEach((t=>{r.push(t.join(""))}));return r})(t);for(let t=0;t<100;t++){const n=t.toString().padStart(2,0),s="hum"+n;let c=document.createElement("div");c.classList="square "+(o=n,r.includes(o)?"ship":""),c.setAttribute("id",s),e.appendChild(c)}var o},a=()=>{const t=document.querySelector(".comp-grid");for(let e=0;e<100;e++){const r="comp"+e.toString().padStart(2,0);let o=document.createElement("button");o.classList="square ",o.setAttribute("id",r),o.addEventListener("click",i),t.appendChild(o)}return[]};return{init:o}})().init()})()})();